View(sumvals)
View(sumvals)
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
RT<-fromJSON(results$results$poly_ratio)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
sumvals <- sumvals['rt', 'stimulus']
# reshaped<-t(sumvals)
reshaped<-as.matrix(reshaped)
conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
View(RT)
View(RT)
View(RT)
sumvals <- sumvals['rt']
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/output/results"),full.names=F))
files <- files[grep(".rds$",files)]
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
complete=logical(),
#gender=character(),
#age=numeric(),
#nationality=character(),
#residence=character(),
# youth_country=character(),
#employment=character(),
#education_completed=character(),
#education_expected=character(),
currentTime=numeric(),
startTime=numeric(),
device=character(),
#MPT_ability=numeric(),
stringsAsFactors=F)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/results/",files[i]))
output[i,"id"] <- results$session$p_id
output[i,"complete"] <- results$session$complete
output[i,"currentTime"] <- results$session$current_time
output[i,"startTime"] <- results$session$time_started
output[i,"device"] <- results$results$device
output[i,"browser"] <- results$results$browser
output[i,"headphones"] <- results$results$headphones
# output[i,"difficulty"] <- results$results$difficulty
if ("anonymous id"%in%names(results$results)) {
output[i,"anonymous_id"] <- results$results$"anonymous id"
# output[i,"ollen"] <- results$GMSI$ollen
}
if ("difficulty"%in%names(results$results)) {
output[i,"difficulty"] <- results$results$difficulty
# output[i,"ollen"] <- results$GMSI$ollen
}
# if ("RT"%in%names(results)) {
#   # Add RT summaryvalues
#   RT<-fromJSON(results$RT$jspsych)
#   sumvals <- subset(RT, test_part== "feedback_real")
#   reshaped<-t(sumvals)
#   conds<-reshaped['cond',]
#   reshaped<-as.integer(reshaped['summary.rt_real',])
# }
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
RT<-fromJSON(results$results$poly_ratio)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
sumvals <- sumvals['rt']
# reshaped<-t(sumvals)
reshaped<-as.matrix(reshaped)
conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
}
View(sumvals)
sumvals <- sumvals['stimulus']
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
RT<-fromJSON(results$results$poly_ratio)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
sumvals <- sumvals['stimulus',]
# reshaped<-t(sumvals)
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
View(sumvals)
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
RT<-fromJSON(results$results$poly_ratio)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
sumvals <- sumvals[,'stimulus']
# reshaped<-t(sumvals)
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
RT<-fromJSON(results$results$poly_ratio)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
sumvals <- sumvals[,c('rt','stimulus')]
# reshaped<-t(sumvals)
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
View(sumvals)
reshaped<-t(sumvals)
View(reshaped)
View(reshaped)
View(sumvals)
RT<-fromJSON(results$results$poly_ratio)
View(RT)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
View(sumvals)
sumvals <- sumvals[,c('rt','stimulus')]
# reshaped<-as.matrix(reshaped)
conds<-reshaped['stimulus']
conds
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
complete=logical(),
#gender=character(),
#age=numeric(),
#nationality=character(),
#residence=character(),
# youth_country=character(),
#employment=character(),
#education_completed=character(),
#education_expected=character(),
currentTime=numeric(),
startTime=numeric(),
device=character(),
#MPT_ability=numeric(),
stringsAsFactors=F)
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
RT<-fromJSON(results$results$poly_ratio)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
sumvals <- sumvals[,c('rt','stimulus')]
reshaped<-t(sumvals)
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
RT<-fromJSON(results$results$poly_ratio)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
sumvals <- sumvals[,c('rt','stimulus')]
reshaped<-t(sumvals)
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/output/results"),full.names=F))
files <- files[grep(".rds$",files)]
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
complete=logical(),
#gender=character(),
#age=numeric(),
#nationality=character(),
#residence=character(),
# youth_country=character(),
#employment=character(),
#education_completed=character(),
#education_expected=character(),
currentTime=numeric(),
startTime=numeric(),
device=character(),
#MPT_ability=numeric(),
stringsAsFactors=F)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/results/",files[i]))
output[i,"id"] <- results$session$p_id
output[i,"complete"] <- results$session$complete
output[i,"currentTime"] <- results$session$current_time
output[i,"startTime"] <- results$session$time_started
output[i,"device"] <- results$results$device
output[i,"browser"] <- results$results$browser
output[i,"headphones"] <- results$results$headphones
# output[i,"difficulty"] <- results$results$difficulty
if ("anonymous id"%in%names(results$results)) {
output[i,"anonymous_id"] <- results$results$"anonymous id"
# output[i,"ollen"] <- results$GMSI$ollen
}
if ("difficulty"%in%names(results$results)) {
output[i,"difficulty"] <- results$results$difficulty
# output[i,"ollen"] <- results$GMSI$ollen
}
# if ("RT"%in%names(results)) {
#   # Add RT summaryvalues
#   RT<-fromJSON(results$RT$jspsych)
#   sumvals <- subset(RT, test_part== "feedback_real")
#   reshaped<-t(sumvals)
#   conds<-reshaped['cond',]
#   reshaped<-as.integer(reshaped['summary.rt_real',])
# }
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
RT<-fromJSON(results$results$poly_ratio)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
sumvals <- sumvals[,c('rt','stimulus')]
reshaped<-t(sumvals)
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
}
View(RT)
View(output)
View(sumvals)
View(RT)
output[i,conds] <- reshaped
output[i,"conds"] <- reshaped
View(reshaped)
output[i,"conds"] <- sumvals
output[i,c("stimulus", "rt")] <- sumvals
View(output)
# output[i,"conds"] <- reshaped
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
setwd("C:/Users/au213911/Documents/poly_online")
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/output/results"),full.names=F))
files <- files[grep(".rds$",files)]
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
complete=logical(),
#gender=character(),
#age=numeric(),
#nationality=character(),
#residence=character(),
# youth_country=character(),
#employment=character(),
#education_completed=character(),
#education_expected=character(),
currentTime=numeric(),
startTime=numeric(),
device=character(),
#MPT_ability=numeric(),
stringsAsFactors=F)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/results/",files[i]))
output[i,"id"] <- results$session$p_id
output[i,"complete"] <- results$session$complete
output[i,"currentTime"] <- results$session$current_time
output[i,"startTime"] <- results$session$time_started
output[i,"device"] <- results$results$device
output[i,"browser"] <- results$results$browser
output[i,"headphones"] <- results$results$headphones
# output[i,"difficulty"] <- results$results$difficulty
if ("anonymous id"%in%names(results$results)) {
output[i,"anonymous_id"] <- results$results$"anonymous id"
# output[i,"ollen"] <- results$GMSI$ollen
}
if ("difficulty"%in%names(results$results)) {
output[i,"difficulty"] <- results$results$difficulty
# output[i,"ollen"] <- results$GMSI$ollen
}
# if ("RT"%in%names(results)) {
#   # Add RT summaryvalues
#   RT<-fromJSON(results$RT$jspsych)
#   sumvals <- subset(RT, test_part== "feedback_real")
#   reshaped<-t(sumvals)
#   conds<-reshaped['cond',]
#   reshaped<-as.integer(reshaped['summary.rt_real',])
# }
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
RT<-fromJSON(results$results$poly_ratio)
sumvals <- subset(RT, trial_type== "audio-bpm-button-response")
sumvals <- sumvals[,c('rt','stimulus')]
reshaped<-t(sumvals)
output[i,c( "rt","stimulus")] <- sumvals
# output[i,"conds"] <- reshaped
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
}
View(output)
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
tap<-fromJSON(results$results$poly_ratio)
resps <- subset(tap, trial_type== "audio-bpm-button-response")
resps <- resps[,c('rt','stimulus')]
reshaped<-t(resps)
output[i,c( "rt","stimulus")] <- resps
# output[i,"conds"] <- reshaped
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/results/",files[i]))
output[i,"id"] <- results$session$p_id
output[i,"complete"] <- results$session$complete
output[i,"currentTime"] <- results$session$current_time
output[i,"startTime"] <- results$session$time_started
output[i,"device"] <- results$results$device
output[i,"browser"] <- results$results$browser
output[i,"headphones"] <- results$results$headphones
# output[i,"difficulty"] <- results$results$difficulty
if ("anonymous id"%in%names(results$results)) {
output[i,"anonymous_id"] <- results$results$"anonymous id"
# output[i,"ollen"] <- results$GMSI$ollen
}
if ("difficulty"%in%names(results$results)) {
output[i,"difficulty"] <- results$results$difficulty
# output[i,"ollen"] <- results$GMSI$ollen
}
# if ("RT"%in%names(results)) {
#   # Add RT summaryvalues
#   RT<-fromJSON(results$RT$jspsych)
#   sumvals <- subset(RT, test_part== "feedback_real")
#   reshaped<-t(sumvals)
#   conds<-reshaped['cond',]
#   reshaped<-as.integer(reshaped['summary.rt_real',])
# }
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
tap<-fromJSON(results$results$poly_ratio)
resps <- subset(tap, trial_type== "audio-bpm-button-response")
resps <- resps[,c('rt','stimulus')]
reshaped<-t(resps)
output[i,c( "rt","stimulus")] <- resps
# output[i,"conds"] <- reshaped
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
}
library(ggplot2)
setwd("C:/Users/au213911/Documents/poly_online")
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/output/results"),full.names=F))
files <- files[grep(".rds$",files)]
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
complete=logical(),
#gender=character(),
#age=numeric(),
#nationality=character(),
#residence=character(),
# youth_country=character(),
#employment=character(),
#education_completed=character(),
#education_expected=character(),
currentTime=numeric(),
startTime=numeric(),
device=character(),
#MPT_ability=numeric(),
stringsAsFactors=F)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/results/",files[i]))
output[i,"id"] <- results$session$p_id
output[i,"complete"] <- results$session$complete
output[i,"currentTime"] <- results$session$current_time
output[i,"startTime"] <- results$session$time_started
output[i,"device"] <- results$results$device
output[i,"browser"] <- results$results$browser
output[i,"headphones"] <- results$results$headphones
# output[i,"difficulty"] <- results$results$difficulty
if ("anonymous id"%in%names(results$results)) {
output[i,"anonymous_id"] <- results$results$"anonymous id"
# output[i,"ollen"] <- results$GMSI$ollen
}
if ("difficulty"%in%names(results$results)) {
output[i,"difficulty"] <- results$results$difficulty
# output[i,"ollen"] <- results$GMSI$ollen
}
# if ("RT"%in%names(results)) {
#   # Add RT summaryvalues
#   RT<-fromJSON(results$RT$jspsych)
#   sumvals <- subset(RT, test_part== "feedback_real")
#   reshaped<-t(sumvals)
#   conds<-reshaped['cond',]
#   reshaped<-as.integer(reshaped['summary.rt_real',])
# }
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
tap<-fromJSON(results$results$poly_ratio)
resps <- subset(tap, trial_type== "audio-bpm-button-response")
resps <- resps[,c('rt','stimulus')]
reshaped<-t(resps)
output[i,c( "rt","stimulus")] <- resps
# output[i,"conds"] <- reshaped
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
}
warnings()
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
tap<-fromJSON(results$results$poly_ratio)
resps <- subset(tap, trial_type== "audio-bpm-button-response")
resps <- resps[,c('rt','stimulus')]
reshaped<-t(resps)
output[i,c( "rt","stimulus")] <- resps
# output[i,"conds"] <- reshaped
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
tap<-fromJSON(results$results$poly_ratio)
resps <- subset(tap, trial_type== "audio-bpm-button-response")
resps <- resps[,c('rt','stimulus')]
reshaped<-t(resps)
View(tap)
View(resps)
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/output/results"),full.names=F))
files <- files[grep(".rds$",files)]
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
complete=logical(),
#gender=character(),
#age=numeric(),
#nationality=character(),
#residence=character(),
# youth_country=character(),
#employment=character(),
#education_completed=character(),
#education_expected=character(),
currentTime=numeric(),
startTime=numeric(),
device=character(),
#MPT_ability=numeric(),
stringsAsFactors=F)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/results/",files[i]))
output[i,"id"] <- results$session$p_id
output[i,"complete"] <- results$session$complete
output[i,"currentTime"] <- results$session$current_time
output[i,"startTime"] <- results$session$time_started
output[i,"device"] <- results$results$device
output[i,"browser"] <- results$results$browser
output[i,"headphones"] <- results$results$headphones
if ("anonymous id"%in%names(results$results)) {
output[i,"anonymous_id"] <- results$results$"anonymous id"
# output[i,"ollen"] <- results$GMSI$ollen
}
if ("difficulty"%in%names(results$results)) {
output[i,"difficulty"] <- results$results$difficulty
# output[i,"ollen"] <- results$GMSI$ollen
}
# if ("RT"%in%names(results)) {
#   # Add RT summaryvalues
#   RT<-fromJSON(results$RT$jspsych)
#   sumvals <- subset(RT, test_part== "feedback_real")
#   reshaped<-t(sumvals)
#   conds<-reshaped['cond',]
#   reshaped<-as.integer(reshaped['summary.rt_real',])
# }
if ("poly_ratio"%in%names(results$results)) {
# Add RT summaryvalues
# ITI<-output[i, "resp_timing"]
tap<-fromJSON(results$results$poly_ratio)
resps <- subset(tap, trial_type== "audio-bpm-button-response")
resps <- resps[,c('rt','stimulus')]
reshaped<-t(resps)
output[i,c( "rt","stimulus")] <- resps
# output[i,"conds"] <- reshaped
# reshaped<-as.matrix(reshaped)
# conds<-reshaped['stimulus']
# reshaped<-as.integer(reshaped['summary.rt_real',])
}
}
tap<-fromJSON(results$results$poly_ratio)
View(tap)
View(tap)
resps <- subset(tap, trial_type== "audio-bpm-button-response")
View(resps)
View(resps)
rt <- resps["rt"]
View(rt)
View(rt)
stimulus <- resps["stimulus"]
View(stimulus)
t_rt <- t(rt)
t_stimulus <- t(stimulus
)
View(t_stimulus)
output[i,rt] <- t_rt
View(output)
View(output)
